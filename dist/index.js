!function(){"use strict";const e=io("http://localhost:5666",{reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3,timeout:1e4}),n=document.querySelector(".message-wrapper"),s=document.querySelector(".message-form"),o=document.querySelector(".message-input");e.on("connect",()=>{n.innerHTML+='<div class="log-message">Connected successfully!</div>',console.log("ðŸš€ ~ connected ~ socket.id:",e.id)}),e.on("connected",e=>{console.log("ðŸš€ ~ server message:",e)}),e.on("message-recieved",s=>{console.log("ðŸš€ ~ received message:",s);const o=s.sender===e.id?"me":"friend",c=s.sender===e.id?"my-message":"incoming-message",i=s.message;"me"!=o&&(n.innerHTML+=`\n  <div class="${c}">\n    <b>${o}:</b>\n    <br>\n    <div>${i}</div>\n    <div class="message-time">${s.time}</div>\n  </div>\n  `)}),e.on("connect_error",s=>{console.error("Connection failed:",s.message),console.log("Server URL:",e.io.uri),n.innerHTML+='<div class="log-message log-message--error">connection failed. retrying</div>',n.scrollTop=n.scrollHeight}),e.on("disconnect",e=>{console.log("Disconnected from server:",e)}),s.addEventListener("submit",s=>{s.preventDefault();const c=o.value.trim();c&&(e.emit("chat-message",c),n.innerHTML+=`\n    <div class="my-message">\n        <b>me:</b>\n        <br>\n        <div>${c}</div>\n    <div class="message-time">${(new Date).toLocaleTimeString()}</div>\n\n    </div>\n  `,o.value="",n.scrollTop=n.scrollHeight)})}();
